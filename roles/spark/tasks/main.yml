---
- name: install java
  package: name=java-{{ java_version.redhat }}-openjdk state=latest
  when: ansible_os_family == "RedHat"

- name: install java
  package: name=openjdk-{{ java_version.debian }}-jre state=latest
  when: ansible_os_family == "Debian"

- name: install hadoop
  unarchive:
    src: http://ftp.jaist.ac.jp/pub/apache/hadoop/common/hadoop-2.7.3/hadoop-2.7.3.tar.gz
    dest: /usr/local/src
    remote_src: True

- name: install spark
  unarchive:
    src: https://d3kbcqa49mib13.cloudfront.net/spark-2.1.1-bin-hadoop2.7.tgz
    dest: /usr/local/src
    remote_src: True

- name: setting env
  copy:
    src: spark-env.sh
    dest: /etc/profile.d/spark-env.sh
    mode: 644
